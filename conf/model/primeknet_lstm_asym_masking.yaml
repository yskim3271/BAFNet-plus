# PrimeKnet-LSTM with Asymmetric Padding for Latency-Performance Trade-off
# Reference: docs/lookahead_design.md
#
# This config supports flexible encoder/decoder padding ratios for exploring
# the Pareto frontier of latency vs performance.
#
# Padding Ratio Formula: left_ratio = (14 - R) / 14, where R is look-ahead frames
# Step: 1/14 â‰ˆ 0.0714 (uniform step for uniform R increment)
#
# ============================================================================
# Common Configurations:
# ============================================================================
#
# Option B (Primary): Encoder asymmetric + Decoder causal
# --------------------------------------------------------
# B-Causal (0ms):     encoder_padding_ratio=[1.0000, 0.0000], decoder_padding_ratio=[1.0, 0.0]
# B-Asym6 (6.25ms):   encoder_padding_ratio=[0.9286, 0.0714], decoder_padding_ratio=[1.0, 0.0]
# B-Asym12 (12.5ms):  encoder_padding_ratio=[0.8571, 0.1429], decoder_padding_ratio=[1.0, 0.0]
# B-Asym19 (18.75ms): encoder_padding_ratio=[0.7857, 0.2143], decoder_padding_ratio=[1.0, 0.0]
# B-Asym25 (25ms):    encoder_padding_ratio=[0.7143, 0.2857], decoder_padding_ratio=[1.0, 0.0]
# B-Asym31 (31.25ms): encoder_padding_ratio=[0.6429, 0.3571], decoder_padding_ratio=[1.0, 0.0]
# B-Asym37 (37.5ms):  encoder_padding_ratio=[0.5714, 0.4286], decoder_padding_ratio=[1.0, 0.0]
# B-Sym (43.75ms):    encoder_padding_ratio=[0.5000, 0.5000], decoder_padding_ratio=[1.0, 0.0]
#
# Option A (Secondary): Encoder + Decoder symmetric (both asymmetric)
# -------------------------------------------------------------------
# A-Causal (0ms):     encoder_padding_ratio=[1.0000, 0.0000], decoder_padding_ratio=[1.0000, 0.0000]
# A-Asym12 (12.5ms):  encoder_padding_ratio=[0.9286, 0.0714], decoder_padding_ratio=[0.9286, 0.0714]
# A-Asym25 (25ms):    encoder_padding_ratio=[0.8571, 0.1429], decoder_padding_ratio=[0.8571, 0.1429]
# A-Asym37 (37.5ms):  encoder_padding_ratio=[0.7857, 0.2143], decoder_padding_ratio=[0.7857, 0.2143]
# A-Asym50 (50ms):    encoder_padding_ratio=[0.7143, 0.2857], decoder_padding_ratio=[0.7143, 0.2857]
# A-Asym62 (62.5ms):  encoder_padding_ratio=[0.6429, 0.3571], decoder_padding_ratio=[0.6429, 0.3571]
# A-Asym75 (75ms):    encoder_padding_ratio=[0.5714, 0.4286], decoder_padding_ratio=[0.5714, 0.4286]
# A-Sym (87.5ms):     encoder_padding_ratio=[0.5000, 0.5000], decoder_padding_ratio=[0.5000, 0.5000]
#
# ============================================================================
# Usage:
# ============================================================================
# # Train with specific configuration
# python train.py +model=primeknet_lstm_asym_masking +dset=taps \
#   model.param.encoder_padding_ratio=[0.7857,0.2143] \
#   model.param.decoder_padding_ratio=[1.0,0.0]
#
# # Or override in command line for quick experiments
# python train.py +model=primeknet_lstm_asym_masking +dset=taps \
#   model.param.encoder_padding_ratio=[0.5,0.5]  # Symmetric encoder
#
# ============================================================================

model_lib: primeknet_lstm_asym
model_class: PrimeKnet
input_type: acs

param:
  fft_len: 400
  dense_channel: 64
  sigmoid_beta: 2.0
  dense_depth: 3
  num_tsblock: 4
  time_block_num: 2
  lstm_layers: 1
  lstm_hidden_size: 64
  freq_block_kernel: [3, 11, 23, 31]
  freq_block_num: 2
  infer_type: masking

  # Asymmetric padding ratios (left_ratio, right_ratio)
  # Default: B-Asym19 (18.75ms latency, R_enc=3)
  encoder_padding_ratio: [0.7857, 0.2143]  # 11/14:3/14
  decoder_padding_ratio: [1.0, 0.0]        # Causal decoder

  # To use other configurations, override these values in command line:
  # - Fully causal (0ms):     encoder_padding_ratio=[1.0, 0.0]
  # - Low latency (12.5ms):   encoder_padding_ratio=[0.8571, 0.1429]
  # - Medium latency (25ms):  encoder_padding_ratio=[0.7143, 0.2857]
  # - Symmetric (43.75ms):    encoder_padding_ratio=[0.5, 0.5]
